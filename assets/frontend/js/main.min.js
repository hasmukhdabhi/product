!function(_,t){var d={cache:function(){d.els={},d.vars={},d.vars.swatch_group_class=".iconic-was-swatches",d.vars.swatch_class=".iconic-was-swatch",d.vars.selected_class="iconic-was-swatch--selected",d.vars.li_selected_class="iconic-was-swatches__item--selected",d.vars.disabled_class="iconic-was-swatch--disabled",d.vars.follow_class="iconic-was-swatch--follow",d.vars.variations_form_class=".variations_form",d.vars.attribute_labels_class=".variations .label",d.vars.chosen_attribute_class=".iconic-was-chosen-attribute",d.vars.no_selection='<span class="iconic-was-chosen-attribute__no-selection">'+iconic_was_vars.i18n.no_selection+"</span>",d.vars.attribute_selects_selector=".variations select",d.vars.change_image_links_class=".iconic-was-swatch--change-image",d.vars.widget_class=".iconic-was-swatches--widget ul",d.vars.widget_group_item=".iconic-was-swatch[data-group]",d.vars.window_size=_(window).width()},on_ready:function(){d.cache(),d.setup_swatches(),d.setup_change_image_links(),d.setup_fees(),d.setup_filter_groups()},setup_swatches:function(){_(t.body).on("click",d.vars.swatch_class,function(e){var a=_(this),s=a.closest(d.vars.variations_form_class),t=a.closest("table"),i=a.closest(d.vars.swatch_group_class).data("attribute"),c=a.data("attribute-value"),n=t.find('select[id="'+i.replace("attribute_","")+'"]'),t=(0===n.length&&a.closest(".bundled_item_cart_content")&&(s=a.closest(".bundled_item_cart_content"),n=t.find('select[id="'+i.replace("attribute_","")+"_"+s.data("bundled_item_id")+'"]')),n.attr("name")),o=a.closest(".value").prev(".label").find(d.vars.chosen_attribute_class),r=(a.hasClass("iconic-was-swatch--colour-swatch")||a.hasClass("iconic-was-swatch--image-swatch"),d.get_current_values(s)),l=!1;if(a.hasClass(d.vars.follow_class))return!0;if(a.hasClass(d.vars.disabled_class)&&(d.reset_form(e,s),delete r[t],l=!0),n.trigger("focusin"),a.hasClass(d.vars.selected_class))return d.deselect_swatch(a),d.select_value(n,""),void o.html(d.vars.no_selection);e=!1===_(d.vars.variations_form_class).data("product_variations"),t='[value="'+d.esc_double_quotes(c)+'"]';0<n.find(t=e?t:".enabled"+t).length&&(d.deselect_swatch_group(s,i),d.select_swatch(a),d.select_value(n,c),l&&d.select_values(s,r))}),_(t).on("mouseenter mouseleave",d.vars.swatch_class,function(e){var a=_(this).closest(d.vars.swatch_group_class).next("div").find("select");a.length<=0||a.trigger("focusin")}),_(t).on("woocommerce_update_variation_values",d.vars.variations_form_class,function(){var i=_(this);i.find("select").each(function(e){var a=_(this),s=a.find("option"),a=a.data("attribute_name"),t=i.find(d.vars.swatch_group_class+'[data-attribute="'+d.esc_double_quotes(a)+'"]');t.find(d.vars.swatch_class).not(d.vars.swatch_class+"--dummy").addClass(d.vars.disabled_class),s.each(function(e,a){var a=_(a),s=a.val(),s=t.find('[data-attribute-value="'+d.esc_double_quotes(s)+'"]');a.hasClass("enabled")?s.removeClass(d.vars.disabled_class):d.deselect_swatch(s)})})}),_(t).on("change",d.vars.attribute_selects_selector,function(){d.change_label(_(this))}),_(t.body).on("click",".reset_variations",function(e){var a=_(this).closest(d.vars.variations_form_class);d.reset_form(e,a)}),_(t).on("check_variations","form.variations_form",function(){var e=_(this).find("."+d.vars.disabled_class);e.length<=0||e.hasClass(d.vars.selected_class)&&(e.closest("tr").find(d.vars.chosen_attribute_class).html(d.vars.no_selection),d.deselect_swatch(e))}),d.swatches_on_load()},select_values:function(c,n){var e=c.find("select");if(e.length<=0)return!1;e.each(function(e,a){var s,t=_(this),i=t.attr("name");void 0===n[i]||(s=t.find('option[value="'+d.esc_double_quotes(n[i])+'"]')).length<=0||s.hasClass("enabled")&&(d.select_value(t,n[i]),c.find(d.vars.swatch_class+'[data-attribute-value="'+d.esc_double_quotes(n[i])+'"]').click())})},reset_form:function(e,a){e.preventDefault();e=a.find(d.vars.swatch_class);d.deselect_swatch(e),a.find(d.vars.attribute_selects_selector).find("option").prop("selected",!1).end().change().end().find(d.vars.attribute_labels_class+" "+d.vars.chosen_attribute_class).html(d.vars.no_selection).end().trigger("reset_data"),d.deselect_all_swatch_groups(a)},get_current_values:function(e){var s={},e=e.find("select");return!(e.length<=0)&&(e.each(function(){var e=_(this),a=e.attr("name"),e=e.val();e&&""!==e&&(s[a]=e)}),s)},select_swatch:function(e){e.addClass(d.vars.selected_class).closest(".iconic-was-swatches__item").addClass(d.vars.li_selected_class)},deselect_swatch:function(e){e.removeClass(d.vars.selected_class).closest(".iconic-was-swatches__item").removeClass(d.vars.li_selected_class)},deselect_swatch_group:function(e,a){e=e.find('[data-attribute="'+d.esc_double_quotes(a)+'"] '+d.vars.swatch_class);d.deselect_swatch(e)},deselect_all_swatch_groups:function(e){e=e.find(d.vars.swatch_class);d.deselect_swatch(e)},swatches_on_load:function(){var e=_(".variations select").find(":selected");e.length<=0||e.each(function(){var e=_(this).closest("select"),a=e.closest("form"),s=e.data("attribute_name"),t=_(this).val();d.change_label(e),s&&t&&(e=_('.iconic-was-swatches[data-attribute="'+s+'"] a.iconic-was-swatch[data-attribute-value="'+t+'"]'),d.deselect_swatch_group(a,s),d.select_swatch(e))})},select_value:function(e,a){e.val(a).change()},change_label:function(e){var a=e.val(),s=e.closest(".value"),t=s.find(d.vars.swatch_class+"[data-attribute-value="+JSON.stringify(a)+"]"),s=s.prev(".label").find(d.vars.chosen_attribute_class),t=0<t.length?t.data("attribute-value-name"):e.find('option[value="'+d.esc_double_quotes(a)+'"]').text();""!==a&&void 0!==t&&s.text(t)},setup_change_image_links:function(){_(t.body).on("click",d.vars.change_image_links_class,function(){var e=_(this),a=e.attr("href"),s=e.data("srcset"),t=e.data("sizes"),e=e.closest(".product"),i=e.find("img:first"),e=e.find("picture source");return i.attr("src",a).attr("srcset",s).attr("sizes",t),0<e.length&&e.attr("srcset",s).attr("sizes",t),!1})},esc_double_quotes:function(e){return String(e).replace(/"/g,'\\"')},setup_fees:function(){_(t.body).on("change",'input[name="variation_id"]',function(){var i,e,c,n,o,a=_(this);""===a.val()||(a=a.closest("form")).length<=0||(!(i=d.get_selected_fee_value(a))||0===i.default||(e=a.find(".woocommerce-variation-price").find(".amount")).length<=0||(a=a.find(".woocommerce-price-suffix"),c=0<a.length&&d.get_suffix_map(a),o=n=0,e.each(function(e,a){var s,a=_(a);0<a.closest(".woocommerce-price-suffix").length?(t=c[n],o=i[t],n++):o=i.default,a.data("was-price")?s=a.data("was-price"):(s=a.text(),a.data("was-price",s));var t=accounting.unformat(s,iconic_was_vars.currency.format_decimal_sep)+o,t=accounting.formatMoney(t,{symbol:"",decimal:iconic_was_vars.currency.format_decimal_sep,thousand:iconic_was_vars.currency.format_thousand_sep,precision:iconic_was_vars.currency.format_num_decimals,format:""});a.html(a.html().toString().replace(d.get_price_match_regex(),t))})))})},get_price_match_regex:function(){var e=iconic_was_vars.currency.format_thousand_sep?"\\d{1,3}("+iconic_was_vars.currency.format_thousand_sep+"\\d{3})*":"(\\d+)";return new RegExp(e+"(\\"+iconic_was_vars.currency.format_decimal_sep+"\\d+)?","gm")},get_suffix_map:function(e){var s=[],a=iconic_was_vars.currency.price_display_suffix.split("{");return _.each(a,function(e,a){-1!==a.indexOf("price_including_tax")?s.push("price_including_tax"):-1!==a.indexOf("price_excluding_tax")&&s.push("price_excluding_tax")}),s},setup_filter_groups:function(){_(d.vars.widget_group_item).length<=0||_(d.vars.widget_group_item).each(function(){var e,a,s;""!==_(this).data("group")&&(e=!1,a="iconic-was-group-"+_(this).data("group").toLowerCase().replace(" ","-"),0===_("li.iconic-was-swatches__group."+a).length&&((e=t.createElement("li")).classList="iconic-was-swatches__group "+a,(s=t.createElement("div")).classList="iconic-was-swatches__group-label",s.innerHTML=_(this).data("group"),e.appendChild(s)),!1!==e&&_(d.vars.widget_class).append(e),_(this).parent().remove(),_("li.iconic-was-swatches__group."+a).append(_(this)))})},get_selected_fee_value:function(e){var a=e.find(".iconic-was-fees");if(a.length<=0)return!1;var s={default:0,price_including_tax:0,price_excluding_tax:0},t=JSON.parse(a.text()),a=d.get_attributes_from_form(e);return _.each(a,function(e,a){void 0!==t[e]&&void 0!==t[e][a]&&(s={default:s.default+t[e][a].default,price_including_tax:s.price_including_tax+t[e][a].price_including_tax,price_excluding_tax:s.price_excluding_tax+t[e][a].price_excluding_tax})}),s},get_attributes_from_form:function(e){var t={},e=e.serializeArray();return e.length<=0||_.each(e,function(e,a){var s;""!==a.value&&a.name.startsWith("attribute_")&&(s=a.name.replace("attribute_",""),t[s]=a.value)}),t},debounce:function(t,i,c){var n;return function(){var e=this,a=arguments,s=c&&!n;clearTimeout(n),n=setTimeout(function(){n=null,c||t.apply(e,a)},i),s&&t.apply(e,a)}}},i={on_ready:function(){_(".iconic-was-accordion.product").length&&_(".iconic-was-accordion.product").find(".iconic-was-swatches").length&&(i.cache(),i.setup_accordion_html(),i.click_handler());var e=d.debounce(i.reset_accordion_height,250);_(window).resize(e)},cache:function(){i.els={},i.els.$product=_(".iconic-was-accordion.product"),i.els.$table=i.els.$product.find("table.variations"),i.els.$trs=i.els.$table.find(">tbody>tr"),i.els.$td_labels=i.els.$table.find(">tbody>tr>.label")},setup_accordion_html:function(){i.els.$td_labels.each(function(){var e=_(this),a=e.closest("tr");0<a.find(".single_variation_wrap").length||0<e.find(".iconic-was-accordion__handle").length||(a.addClass("iconic-was-accordion__row"),e.append("<span class='iconic-was-accordion__handle'></span>"))})},click_handler:function(){i.els.$td_labels.click(function(){var e,a=_(this).parent(),s=(_(this).find(".iconic-was-accordion__handle"),_(this).siblings(".value"));a.hasClass("iconic-was-accordion--active")?(a.removeClass("iconic-was-accordion--active"),s.css("overflow","hidden"),s.height(0),window.setTimeout(function(){s.css("overflow","visible"),s.hide()},150)):(e=i.get_hidden_elements_height(s),s.show(),s.height(e),a.addClass("iconic-was-accordion--active"),s.css("overflow","hidden"),window.setTimeout(function(){s.css("overflow","visible")},150))})},reset_accordion_height:function(){var e=_(".iconic-was-accordion--active");e.length<=0||e.each(function(e,a){var a=_(a).find("td.value"),s=a.children(),t=0;0<s.length&&s.each(function(e,a){_(a).is(":visible")&&(t+=_(a).outerHeight(!0))}),a.height(t)})},get_hidden_elements_height:function(e){e.height("auto").addClass("test");var a=e.height();return e.height(0),a},open_first_swatch:function(){var e=i.els.$trs&&i.els.$trs.first()&&i.els.$trs.first().find(".label");e&&e.trigger("click")}},h={on_ready:function(){_("ul.iconic-was-swatches.iconic-was-swatches--loop").not(".iconic-was-swatches--stacked").each(function(){var e=_(this);window.setTimeout(function(){h.handle_adaptive_for_single_ul(e)},1)}),_(t.body).on("click",".iconic-was-swatches__item--dummy",h.show_all_attributes);var e=d.debounce(h.on_window_resize,250);_(window).resize(e)},on_window_resize:function(){_(".iconic-was-swatches").each(function(){var e=_(this);h.handle_adaptive_for_single_ul(e)})},handle_adaptive_for_single_ul:function(e){var a,s,t,i,c,n,o,r,l=e.data("overflow");l&&"stacked"!==l&&(e.removeClass("iconic-was-swatches--loading"),e.css("height","auto"),"slider"===l?((a=0<e.parent("."+(l="iconic-was-swatches--slider-wrapper")).length)||(e.wrap('<div class="'+l+'"></div>'),a=!0),l=e.parent().width(),i=(c=(s=e.find("li")).not(".iconic-was-swatches__label").first()).outerWidth(!0),c=parseInt(c.css("margin-right")),i=(t=Math.floor(l/i))*i-c,!(c=t<s.length)&&a&&e.unwrap(),e.hasClass("flickity-enabled")?c?(e.width(l<i?i:l),e.flickity("resize")):(e.flickity("destroy"),e.width("")):c?(e.width(i),e.flickity({resize:!1,percentPosition:!1,selectedAttraction:.075,friction:.42,pageDots:!1,cellAlign:"left",groupCells:!0,contain:!0,rightToLeft:!1,arrowShape:{x0:20,x1:55,y1:35,x2:60,y2:30,x3:30}})):e.width("")):(n=e.width(),r=o=0,e.find(".iconic-was-swatches__item").each(function(){(o+=_(this).outerWidth(!0))<n&&r++}),h.adapt(e,r)))},get_inner_elements_total_width:function(e){var a=0;return jQuery(e).find(">li").each(function(){jQuery(this).is(":visible")&&(a+=jQuery(this).outerWidth(!0))}),a},adapt:function(e,a){var s=e.find(">li").not(".iconic-was-swatches__item--dummy"),s=(s.removeClass("iconic-was-swatches__item--hidden"),!(s.length<=a)&&s.slice(a-1));s?(s.addClass("iconic-was-swatches__item--hidden"),e.find(">.iconic-was-swatches__item--dummy a").text("+"+s.length),e.find(">.iconic-was-swatches__item--dummy").removeClass("iconic-was-swatches__item--hidden"),e.addClass("iconic-was-swatches--single-line")):(e.find(">.iconic-was-swatches__item--dummy").addClass("iconic-was-swatches__item--hidden"),e.removeClass("iconic-was-swatches--single-line"))},show_all_attributes:function(e){e.preventDefault();e=_(this).parent();e.hasClass("iconic-was-swatches--loop")?window.location.href=_(this).find("a").attr("href"):(e.find(".iconic-was-swatches__item--hidden").removeClass("iconic-was-swatches__item--hidden"),_(this).addClass("iconic-was-swatches__item--hidden"),e.removeClass("iconic-was-swatches--single-line"),e.data("overflow","stacked"),e.find(".iconic-was-swatches__item--dummy").hide(),_(t).trigger("iconic_was_reset_accordion_height"))}},n={cache:function(){n.cache.vars={tooltip:".iconic-was-tooltip",arrow:".iconic-was-tooltip__arrow",anchor:".iconic-was-swatches--tooltips .iconic-was-swatch:not(.iconic-was-swatch--dummy)"}},on_ready:function(){n.cache(),0===_(".iconic-was-tooltip").length&&(_("body").append('<div class="iconic-was-tooltip"><div class="iconic-was-tooltip__inner_wrap"></div><div class="iconic-was-tooltip__arrow"></div></div>'),_(".iconic-was-tooltip").hide()),_(window).resize(n.on_resize);var e=d.debounce(n.handle_mouseenter,200),a=d.debounce(n.handle_mouseleave,200);iconic_was_vars.is_mobile?(n.mobile_click_handler(),_(window).scroll(n.handle_mouseleave),_(window).on("resize_threshold",n.handle_mouseleave)):(_(t.body).on("mouseenter",n.cache.vars.anchor,e),_(t.body).on("mouseleave",n.cache.vars.anchor,a),_(window).scroll(n.handle_mouseleave).resize(n.handle_mouseleave))},handle_mouseenter:function(){var e=_(this),a=e.find(".iconic-was-swatch__text").html(),s=_(n.cache.vars.tooltip),a=(s.find(".iconic-was-tooltip__inner_wrap").html(a),s.css({left:"",right:""}),s.find(n.cache.vars.arrow)),t=s.outerWidth(!0),e=e.get(0).getBoundingClientRect(),i=e.left+e.width/2,c=(c=i-t/2)<0?0:c,t=(_(window).width()<t+c?s.css({left:"",right:0}):s.css({left:c,right:""}),s.outerHeight(!0)),c=e.top-t,e=(s.css("top",c).show().addClass("iconic-was-tooltip--animate-opacity iconic-was-tooltip--animate-top iconic-was-tooltip--active"),s.offset());a.css("left",i-e.left)},handle_mouseleave:function(){_(n.cache.vars.tooltip).removeClass("iconic-was-tooltip--animate-top iconic-was-tooltip--animate-opacity iconic-was-tooltip--active")},mobile_click_handler:function(){var c=t.querySelectorAll(n.cache.vars.anchor);t.addEventListener("click",function(e){var a,s=e.composedPath(),t=!1;for(a in c){var i=c[a];if(s.includes(i)){t=i;break}}t?n.handle_mouseenter.call(t):n.handle_mouseleave()})},on_resize:function(){var e=d.vars.window_size,a=_(window).width();10<Math.abs(e-a)&&(d.vars.window_size=a,_(window).trigger("resize_threshold"))}};_(t).ready(d.on_ready),_(t).ready(i.on_ready),_(t).ready(n.on_ready),_(t).ready(h.on_ready),_(t).on("iconic_was_reset_accordion_height",i.reset_accordion_height)}(jQuery,document);
window.addEventListener("load",function(){"use strict";var u=jQuery,m={$image_wrap:null,has_swatches:0<u("[data-attribute-name]").length,has_configurator:0<u(".iconic-pc-images").length,has_woothumbs:0<u(".iconic-woothumbs-images").length,$variations_form:u(".product .variations_form"),variation_selects:".variations select",default_images:{},loaded_images:{},load_ids:{global:0},on_load:function(){m.set_elements(),m.setup_default_images(),m.setup_image_switcher(),m.setup_swatches(),m.setup_inventory(),m.setup_woothumbs(),m.setup_variation_swatches_photos(),m.setup_variation_swatches_for_woocommerce(),m.has_swatches&&m.reset_layers()},setup_default_images:function(){m.$image_wrap.find("div").each(function(a,t){var t=u(t),e=t.attr("class").match(/iconic-pc-image--([^\s]+)/);e&&(e=e[0],m.default_images["."+e]=t.html())})},sanitise_str:function(a,t){return t=void 0===t||t,a&&""!==a?(a=(a=t?"jckpc-"+a:a).replace("/","").replace(/ +/g,"-").replace(/[^a-zA-Z0-9-_]/g,"").replace(/(-)\1+/g,"-").replace(/(_)\1+/g,"_")).toLowerCase():""},get_layer_id:function(a){var t=".iconic-pc-image--";return 0===a.indexOf(t)?a:t+(a=a.replace("attribute_",""))},get_default_image:function(a){return m.default_images[a]},clear_layer:function(a){var t=(a=0===a.indexOf(".")?a:m.get_layer_id(a)).replace(".iconic-pc-image--jckpc-",""),t=u('[data-iconic_pc_layer_id="'+t+'"]');void 0!==t&&(t=""===t.val()?m.get_default_image(a):"",u(a).html(t))},load_image_layer:function(a,t){m.$image_wrap.data("iconic_pc_product_id");t=t.replace("attribute_","");var t=m.get_layer_id(t),e=m.get_load_id(t);void 0===m.loaded_images[t]&&(m.loaded_images[t]={}),void 0!==m.loaded_images[t][a]?m.update_image_layer(t,m.loaded_images[t][a],e):(m.set_loading(!0),m.load_json_images())},load_json_images:function(){var a,t=m.$image_wrap.data("iconic_pc_product_id"),e=[],i=m.get_selected_attributes();for(a in i)e[a.replace("attribute_","jckpc-")]=i[a];var r=m.get_conditional_images(e),o=JSON.parse(u(".iconic-pc-layers-"+t).html());if(o)for(var n in e){var c,_=m.get_layer_id(n),s="",l=m.get_load_id(_),d=e[n];""===(s=void 0!==r[n]&&void 0!==(c=r[n][d])?c.image_html:s)&&(s=void 0===(c=o[n][d])?"":c.image_html),m.update_image_layer(_,s,l)}else m.set_loading(!1)},get_conditional_images:function(a){var t=[],e=m.$image_wrap.data("iconic_pc_product_id"),e=u(".iconic-pc-layers-conditionals-"+e);if(!(e.length<=0)){var i,r=JSON.parse(e.html());for(i in r)for(var o in r[i]){var n,c=0;for(n in r[i][o].rules){var _=r[i][o].rules[n],s=a[_.attribute];s&&("is_equal_to"===_.condition?s===_.value&&c++:"is_not_equal_to"===_.condition&&s!==_.value&&c++)}if(c===r[i][o].rules.length)for(var l in r[i][o].value){l=r[i][o].value[l];void 0===t[i]&&(t[i]=[]),t[i][l.attribute.replace("jckpc-","")]=l.value}}}return t},set_loading:function(a){"clear"===a?m.load_ids.global=0:a?m.load_ids.global++:0<m.load_ids.global&&m.load_ids.global--},update_image_layer:function(a,t,e){var i=m.get_load_id(a);m.set_loading(!1),e===i&&(t?u(a).html(t):m.clear_layer(a),u(document.body).trigger("iconic_pc_image_layer_updated"))},generate_image_url:function(a){var t=jckpc.ajaxurl;return t=(t=(t+=t.indexOf("?")<0?"?":"&")+"action=iconic_pc_generate_image"+("&prodid="+a))+("&"+m.get_selected_attributes("string"))},get_selected_attributes:function(a){a=a||"array";var r={},t=u(".variations select[name^='attribute_']"),o=[];return t.each(function(a,t){var e=u(t).data("attribute_name");if(-1===o.indexOf(e)){t=u(t),t=m.get_select_field_data(t);if(""===t.value){var i=m.get_layer_id(t.attribute),i=u(i);if(!i.length)return;i=i.data("iconic_pc_default_layer");t.value=i||""}r[t.attribute_stripped]=t.value,o.push(e)}}),"string"===a?u.param(r,!0):r},setup_image_switcher:function(){m.has_configurator&&(u(document).on("change",m.variation_selects,function(){m.update_attribute_layers(u(this))}),u(document.body).on("iconic_pc_image_layer_updated",function(){m.update_large_image()}))},increment_load_id:function(a){u(".variations select").each(function(a,t){t=u(t),t=m.get_select_field_data(t),t=m.get_layer_id(t.attribute);m.get_load_id(t)||(m.load_ids[t]=0),m.load_ids[t]++})},get_load_id:function(a){a=m.get_layer_id(a);return void 0!==m.load_ids[a]&&m.load_ids[a]},setup_swatches:function(){m.has_swatches&&m.has_configurator&&u(".swatch-anchor").on("click",function(){var a=u(this),t=a.closest("form"),t=JSON.parse(t.attr("data-variations_map")),e=a.closest(".select"),a=a.closest(".select-option"),e=e.attr("data-attribute-name"),i=a.attr("data-value"),r=m.sanitise_str(e),t=t[e][i];a.hasClass("selected")?m.clear_layer(r):m.load_image_layer(t,r),u(document.body).trigger("iconic_pc_image_layer_updated")})},get_swatch_value:function(a,t){return JSON.parse(m.$variations_form.attr("data-variations_map"))[a][t]},reset_layers:function(){u("#variations_clear").on("click",function(){u.each(m.default_images,function(a,t){m.$image_wrap.find(a).html(t)})})},setup_inventory:function(){m.$variations_form.on("woocommerce_update_variation_values",function(){"undefined"!=typeof jckpc_inventory&&u.each(jckpc_inventory,function(t,a){u.each(a,function(i,a){var r=u('.variations_form[data-product_id="'+t+'"] select[data-attribute_name="attribute_'+i+'"]');0<r.length&&u.each(a,function(a,t){var e=a.replace("jckpc-",""),e=r.find('option[value|="'+e+'"]'),a=u('.va-picker[data-attribute="'+i+'"][data-term="'+a+'"]');""!==t&&parseInt(t)<=0&&(e.attr("disabled","disabled").removeClass("enabled"),0<a.length)&&a.hide()})})})}),m.has_swatches&&m.has_configurator&&"undefined"!=typeof jckpc_inventory&&void 0!==m.$variations_form.attr("data-variations_map")&&u("[data-attribute-name]").each(function(){var a=u(this),r=a.attr("data-attribute-name");a.is("select")?a.find("option").each(function(a,t){var e,i=u(t).val();""!==i&&(i=m.get_swatch_value(r,i),e=r.replace("attribute_",""),i=i.replace("jckpc-",""),""!==(e=jckpc_inventory[e][i]))&&parseInt(e)<=0&&u(t).remove()}):a.find(".select-option").each(function(a,t){var e,i=u(t).attr("data-value");""!==i&&(i=m.get_swatch_value(r,i),e=r.replace("attribute_",""),i=i.replace("jckpc-",""),""!==(e=jckpc_inventory[e][i]))&&parseInt(e)<=0&&u(t).remove()})})},set_elements:function(){m.$image_wrap=u(".iconic-pc-image-wrap")},setup_woothumbs:function(){m.has_woothumbs&&(u(document.body).on("iconic_pc_image_layer_updated",function(){var a,t=u(".iconic-woothumbs-images.slick-initialized");t.length<=0||(a=t.find(".iconic-pc-images").closest(".slick-slide").data("slick-index")||0,setTimeout(function(){t.slick("slickGoTo",a),t.trigger("init_zoom")},200))}),u(".iconic-woothumbs-all-images-wrap").on("iconic_woothumbs_images_loaded",function(a,t){t=t.variations_form.find(".variations select").first();t.length<=0||m.update_attribute_layers(t)}))},update_attribute_layers:function(a){u(document.body).trigger("iconic_pc_image_before_layer_updated");a=m.get_select_field_data(a);m.increment_load_id(a.attribute),a.value?m.load_image_layer(a.value,a.attribute):m.clear_layer(a.attribute),jQuery(".iconic-pc-image img").removeClass("wp-post-image"),u(document.body).trigger("iconic_pc_image_layer_updated")},update_large_image:function(){var a=parseInt(u(".iconic-pc-image-wrap").data("iconic_pc_product_id")),a=m.generate_image_url(a),t=u(".woocommerce-product-gallery__image--jckpc .zoomImg");u(".iconic-pc-image--background img").attr("data-large_image",a).attr("data-src",a),0<t.length&&t.attr("src",a)},get_select_field_data:function(a){var t,e,i,r={attribute_stripped:null,attribute:null,value:null};return m.has_swatches&&void 0!==m.$variations_form.attr("data-variations_map")?(t=JSON.parse(m.$variations_form.attr("data-variations_map")),e=a.attr("data-attribute-name"),i=a.val(),r.attribute=m.sanitise_str(e),r.attribute_stripped=r.attribute.replace("jckpc-",""),r.value=t[e][i]):(r.attribute=m.sanitise_str(a.attr("name")),r.attribute_stripped=r.attribute.replace("jckpc-",""),r.value=a.val()),r},setup_variation_swatches_photos:function(){var a;jQuery(".variations_form.swatches").length&&(m.variation_selects+=", "+(a=".variations_form.swatches .variation_form_section input:hidden"),m.has_swatches=!1,u(a).each(function(){var a=u(this);a.attr("data-attribute-name",a.attr("name")),a.parent().find(".select-option a").click(function(){setTimeout(function(){a.trigger("change")},200)})}))},setup_variation_swatches_for_woocommerce:function(){u(document).on("wvs-item-updated","li.variable-item",function(){u(this).closest(".variations_form").hasClass("wvs-loaded")||u(this).closest(".woo-variation-items-wrapper").find("select").trigger("change")})}},a=u(".cart.bundle_form"),t=u(".cart.bundle_data"),e=".product .variations_form";0<t.length?(a.hasClass("initialized")?(m.$variations_form=u(e),m.on_load()):t.on("woocommerce-product-bundle-initialized",function(a,t){m.$variations_form=u(e),m.on_load()}),m.$variations_form.find("select").trigger("change")):m.on_load()});